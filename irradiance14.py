import numpy as np
import matplotlib.pyplot as plt
import function as fct
from include import *
from scipy.integrate import simps
from numpy import trapz

R1=np.array([0.16263723, 0.16457346, 0.16640918, 0.1681438 , 0.16977778,
       0.17131286, 0.1721983 , 0.17295908, 0.17360227, 0.17413607,
       0.17456988, 0.17431072, 0.17396299, 0.1735418 , 0.17306285,
       0.17254198, 0.17199485, 0.17143605, 0.17087865, 0.1703333 ,
       0.16980779, 0.16960214, 0.16945614, 0.16936397, 0.1693165 ,
       0.16930187, 0.16930644, 0.16931563, 0.16931488, 0.16929026,
       0.16922914, 0.16904338, 0.16882978, 0.16857801, 0.16828012,
       0.16793064, 0.16878038, 0.16954901, 0.17023714, 0.17084631,
       0.1713785 , 0.17144325, 0.1714386 , 0.17136449, 0.17122115,
       0.17101011, 0.17111795, 0.17116277, 0.17115398, 0.17110331,
       0.17102369, 0.17134666, 0.17167027, 0.17200315, 0.17234584,
       0.17269001, 0.17270181, 0.17266748, 0.17255   , 0.17232029,
       0.17196858, 0.17200036, 0.17195599, 0.17190601, 0.17195132,
       0.17220781, 0.17278492, 0.1737519 , 0.17512389, 0.17684532,
       0.17878262, 0.18064215, 0.18223177, 0.18330022, 0.18366381,
       0.18325723, 0.18215738, 0.18060209, 0.17894594, 0.17766492,
       0.17725023, 0.17766587, 0.17982443, 0.18356388, 0.1884809 ,
       0.19404662, 0.19924492, 0.2041341 , 0.20836202, 0.21165364,
       0.21381502, 0.21462233, 0.21394502, 0.21190428, 0.20866538,
       0.20443475, 0.19941897, 0.19379184, 0.18766661, 0.18108038,
       0.17400047, 0.16631966, 0.15790002, 0.14857558, 0.13820231,
       0.12669143, 0.11194698, 0.09665186, 0.08107259, 0.06556583,
       0.05055037, 0.03699593, 0.02467101, 0.01440582, 0.00707944,
       0.00351214, 0.00323443, 0.00685285, 0.01406281, 0.02428803])
T1=np.array([0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j])


a1=1-(R1+T1)

Wavelength = np.arange(300, 420, 1)
name="Spectre1"
file=fct.Openfile(name)
s=list(file)
ss=np.array(s)
b=a1*ss

plt.figure("Irradiance solaire")
plt.grid()
plt.xlabel("Longueur d'onde (nm)") ; plt.ylabel("Irradiance")
plt.plot(Wavelength,ss,label="Spectre solaire")
plt.plot(Wavelength,b,label="TiO2/ZnO 7.0x(90;90)")
plt.legend()

area1 = trapz(b, dx=1)
print("Aire sous la courbe TiO2 seul =", area1)