import numpy as np
import matplotlib.pyplot as plt
import function as fct
from include import *
from scipy.integrate import simps
from numpy import trapz

R4=np.array([0.1864011 , 0.1861267 , 0.18580417, 0.185442  , 0.18504914,
       0.18463489, 0.18344698, 0.18224789, 0.18104561, 0.17984715,
       0.1786584 , 0.17672107, 0.17480076, 0.17289622, 0.17100446,
       0.16912088, 0.16723971, 0.16535445, 0.16345841, 0.16154506,
       0.15960872, 0.15821077, 0.15678687, 0.15533368, 0.15384781,
       0.15232505, 0.15075919, 0.1491405 , 0.1474547 , 0.14568218,
       0.14379741, 0.14151344, 0.13906461, 0.13642461, 0.13356807,
       0.13047192, 0.12958917, 0.12847409, 0.12709687, 0.12542966,
       0.12344778, 0.12031782, 0.11679941, 0.11289069, 0.10860172,
       0.10395389, 0.09987157, 0.09551997, 0.09094688, 0.08620731,
       0.08136891, 0.07714658, 0.07288837, 0.06866512, 0.06454511,
       0.0605966 , 0.05603321, 0.05174883, 0.04773912, 0.0439974 ,
       0.04048368, 0.03741519, 0.03439932, 0.03138047, 0.02832786,
       0.02524212, 0.02213789, 0.01910115, 0.01621719, 0.01362328,
       0.01148318, 0.00958315, 0.00881204, 0.00941105, 0.01162611,
       0.0156442 , 0.02158852, 0.02949166, 0.03934468, 0.05093883,
       0.0641331 , 0.07973517, 0.09582134, 0.11183723, 0.12724193,
       0.14161396, 0.15367512, 0.1644142 , 0.17368142, 0.18136642,
       0.18738992, 0.19163741, 0.19375888, 0.19383984, 0.19191685,
       0.18805327, 0.18239547, 0.17499521, 0.16603301, 0.15564611,
       0.14398509, 0.13126437, 0.11770288, 0.10359846, 0.08926329,
       0.07502302, 0.06295136, 0.05194743, 0.04224142, 0.03403173,
       0.02753381, 0.02134577, 0.01750917, 0.01624589, 0.01766626,
       0.02180368, 0.02840919, 0.03664816, 0.04629263, 0.05708538])
T4=np.array([0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j])


a5=1-(R4+T4)
Wavelength = np.arange(300,420, 1)
name="Spectre1"
first="Spectre3"
file=fct.Openfile(name)
file1=fct.Openfile(first)
s=list(file)
t=list(file1)
ss=np.array(s)
tt=np.array(t)

g=a5*ss
h=a5*tt


plt.figure("Irradiance solaire")
plt.grid()
plt.xlabel("Longueur d'onde (nm)") ; plt.ylabel("Irradiance")
plt.plot(Wavelength,a5,label="Absorbance")
#plt.plot(Wavelength,g,label="Au/tiO2 5.0x(2/78) Soleil")
plt.plot(Wavelength,h,label="TiO2/ZnO 4.0x(75/75) Lampe UV")
plt.legend() 


area6 = trapz(h, dx=1)
print("Aire sous la courbe TiO2/ZnO 4.0x(75/75) Lampe UV =", area6)


