import numpy as np
import matplotlib.pyplot as plt
import function as fct
from include import *
from scipy.integrate import simps
from numpy import trapz


R6=np.array([0.42147235, 0.42145589, 0.42139308, 0.42128428, 0.42112986,
       0.42093045, 0.42068673, 0.42039949, 0.42006955, 0.4196976 ,
       0.41928435, 0.41868085, 0.41803599, 0.41734974, 0.41662193,
       0.41585236, 0.41504155, 0.41419143, 0.41330668, 0.41239576,
       0.41147319, 0.41043237, 0.40942766, 0.40849312, 0.40766449,
       0.40697312, 0.40643675, 0.40604874, 0.40576739, 0.40550771,
       0.40513821, 0.40439539, 0.40316127, 0.40122702, 0.39841028,
       0.3945939 , 0.38976395, 0.38404487, 0.3777202 , 0.37123631,
       0.36517434, 0.36019262, 0.356991  , 0.35615835, 0.35809804,
       0.36295859, 0.37059928, 0.38059756, 0.39229353, 0.40485588,
       0.41735657, 0.42918584, 0.4390301 , 0.4460423 , 0.4494965 ,
       0.44881758, 0.44361214, 0.433713  , 0.41921091, 0.40049981,
       0.37830338, 0.35394021, 0.32853135, 0.30362828, 0.2808455 ,
       0.26170359, 0.24745234, 0.23894813, 0.23658144, 0.24027951,
       0.24957103, 0.26358892, 0.28145708, 0.30217306, 0.32474651,
       0.34826116, 0.37189615, 0.39494548, 0.4168132 , 0.43700495,
       0.45511467, 0.4707388 , 0.48370055, 0.49379547, 0.50086413,
       0.50479496, 0.50552629, 0.50304052, 0.49737791, 0.48863463,
       0.47696697, 0.46255781, 0.44578073, 0.42700049, 0.40660229,
       0.38502489, 0.3627426 , 0.34025481, 0.31807144, 0.29669026,
       0.27658388, 0.25810232, 0.24166915, 0.22757453, 0.21602553,
       0.2071485 , 0.20098968, 0.19752115, 0.19665104, 0.19823316,
       0.20207934, 0.20788909, 0.2155129 , 0.22470275, 0.23521223,
       0.24679541, 0.259222  , 0.2722673 , 0.28572734, 0.29941519])
R7=np.array([0.29871954, 0.29848941, 0.2981903 , 0.29782406, 0.29739252,
       0.29689783, 0.29634204, 0.29572741, 0.29505627, 0.29433078,
       0.29355328, 0.29272616, 0.29185187, 0.29093322, 0.28997348,
       0.28897644, 0.28794732, 0.28689258, 0.28582069, 0.28474124,
       0.28366557, 0.282604  , 0.28156514, 0.28055201, 0.27955772,
       0.27856219, 0.27752884, 0.27640383, 0.27511821, 0.27359519,
       0.271761  , 0.26956534, 0.26698013, 0.26403598, 0.26083103,
       0.2575392 , 0.25440819, 0.25174312, 0.24987515, 0.24911733,
       0.24970965, 0.2517356 , 0.25522248, 0.25996925, 0.26560666,
       0.27163344, 0.2774675 , 0.28250479, 0.28617042, 0.28796032,
       0.28747082, 0.28443346, 0.27858748, 0.26991183, 0.25855001,
       0.244835  , 0.22930193, 0.2127051 , 0.19600478, 0.18033009,
       0.16689122, 0.15691573, 0.15144704, 0.15110754, 0.15605589,
       0.16596936, 0.18010518, 0.19743412, 0.21679764, 0.2370447 ,
       0.25714248, 0.27613361, 0.29340929, 0.3084962 , 0.32107607,
       0.33095323, 0.3380276 , 0.34226311, 0.34367516, 0.34230863,
       0.33824458, 0.33149118, 0.32228306, 0.31077934, 0.2971782 ,
       0.28171336, 0.26467601, 0.24640784, 0.22730583, 0.20782875,
       0.18847581, 0.16989501, 0.15251146, 0.13681534, 0.12325229,
       0.11220234, 0.10395065, 0.09867334, 0.09642869, 0.09715676,
       0.10068965, 0.10672585, 0.11496075, 0.12503102, 0.13655645,
       0.14915792, 0.16247437, 0.17617591, 0.18996831, 0.20359626,
       0.21684808, 0.22946871, 0.24140944, 0.2525631 , 0.26285418,
       0.2722253 , 0.2806428 , 0.28808261, 0.2945366 , 0.30000577])
T6=np.array([6.03400857e-07+0.j, 8.79879897e-07+0.j, 1.28644345e-06+0.j,
       1.88413008e-06+0.j, 2.76170967e-06+0.j, 4.04747390e-06+0.j,
       5.92598736e-06+0.j, 8.66024843e-06+0.j, 1.26219605e-05+0.j,
       1.83322646e-05+0.j, 2.65144107e-05+0.j, 3.81910659e-05+0.j,
       5.47070106e-05+0.j, 7.78863474e-05+0.j, 1.10151288e-04+0.j,
       1.54678572e-04+0.j, 2.15566134e-04+0.j, 2.98057722e-04+0.j,
       4.08729838e-04+0.j, 5.55762338e-04+0.j, 7.49109209e-04+0.j,
       1.00153424e-03+0.j, 1.32696895e-03+0.j, 1.74216750e-03+0.j,
       2.26639671e-03+0.j, 2.92141505e-03+0.j, 3.73161896e-03+0.j,
       4.72368525e-03+0.j, 5.92691390e-03+0.j, 7.37275094e-03+0.j,
       9.09483090e-03+0.j, 1.11361141e-02+0.j, 1.35297743e-02+0.j,
       1.63148373e-02+0.j, 1.95296200e-02+0.j, 2.32114039e-02+0.j,
       2.73913616e-02+0.j, 3.20935966e-02+0.j, 3.73305090e-02+0.j,
       4.30974975e-02+0.j, 4.93753394e-02+0.j, 5.61585564e-02+0.j,
       6.33696360e-02+0.j, 7.09479152e-02+0.j, 7.88344133e-02+0.j,
       8.69799527e-02+0.j, 9.53539338e-02+0.j, 1.03954749e-01+0.j,
       1.12807565e-01+0.j, 1.21965610e-01+0.j, 1.31507639e-01+0.j,
       1.41359906e-01+0.j, 1.51784109e-01+0.j, 1.62883232e-01+0.j,
       1.74749877e-01+0.j, 1.87449475e-01+0.j, 2.01004710e-01+0.j,
       2.15393607e-01+0.j, 2.30521239e-01+0.j, 2.46215063e-01+0.j,
       2.62227670e-01+0.j, 2.77901925e-01+0.j, 2.93095686e-01+0.j,
       3.07379457e-01+0.j, 3.20346963e-01+0.j, 3.31643700e-01+0.j,
       3.41037671e-01+0.j, 3.48422829e-01+0.j, 3.53834533e-01+0.j,
       3.57436735e-01+0.j, 3.59486148e-01+0.j, 3.60311398e-01+0.j,
       3.60267164e-01+0.j, 3.59686421e-01+0.j, 3.58874606e-01+0.j,
       3.58087221e-01+0.j, 3.57550135e-01+0.j, 3.57431261e-01+0.j,
       3.57866985e-01+0.j, 3.58945011e-01+0.j, 3.60739361e-01+0.j,
       3.63346193e-01+0.j, 3.66702876e-01+0.j, 3.70804508e-01+0.j,
       3.75622906e-01+0.j, 3.81109533e-01+0.j, 3.87206635e-01+0.j,
       3.93826555e-01+0.j, 4.00880653e-01+0.j, 4.08252620e-01+0.j,
       4.15813423e-01+0.j, 4.23512717e-01+0.j, 4.31235058e-01+0.j,
       4.38926916e-01+0.j, 4.46438687e-01+0.j, 4.53619936e-01+0.j,
       4.60326928e-01+0.j, 4.66426375e-01+0.j, 4.71800130e-01+0.j,
       4.76350984e-01+0.j, 4.80005353e-01+0.j, 4.82867003e-01+0.j,
       4.84779186e-01+0.j, 4.85749126e-01+0.j, 4.85809628e-01+0.j,
       4.85015787e-01+0.j, 4.83441225e-01+0.j, 4.81173297e-01+0.j,
       4.78309009e-01+0.j, 4.74950935e-01+0.j, 4.71201970e-01+0.j,
       4.67329365e-01+0.j, 4.63257151e-01+0.j, 4.59074240e-01+0.j,
       4.54859764e-01+0.j, 4.50686476e-01+0.j, 4.46615862e-01+0.j,
       4.42703860e-01+0.j, 4.38996144e-01+0.j, 4.35530822e-01+0.j])
T7=np.array([6.17832179e-07+0.j, 9.01198945e-07+0.j, 1.31804050e-06+0.j,
       1.93106720e-06+0.j, 2.83152386e-06+0.j, 4.15134441e-06+0.j,
       6.08043032e-06+0.j, 8.88952937e-06+0.j, 1.29615084e-05+0.j,
       1.88334642e-05+0.j, 2.72512246e-05+0.j, 3.92672795e-05+0.j,
       5.62704873e-05+0.j, 8.01439298e-05+0.j, 1.13389428e-04+0.j,
       1.59289763e-04+0.j, 2.22081667e-04+0.j, 3.07188752e-04+0.j,
       4.21415751e-04+0.j, 5.73229404e-04+0.j, 7.72936943e-04+0.j,
       1.03369613e-03+0.j, 1.36997737e-03+0.j, 1.79916203e-03+0.j,
       2.34128407e-03+0.j, 3.01904993e-03+0.j, 3.85804852e-03+0.j,
       4.88645151e-03+0.j, 6.13543387e-03+0.j, 7.63870881e-03+0.j,
       9.43251985e-03+0.j, 1.15621954e-02+0.j, 1.40636684e-02+0.j,
       1.69775947e-02+0.j, 2.03421878e-02+0.j, 2.41919946e-02+0.j,
       2.85518296e-02+0.j, 3.34354888e-02+0.j, 3.88415049e-02+0.j,
       4.47494997e-02+0.j, 5.11259039e-02+0.j, 5.79552897e-02+0.j,
       6.51612493e-02+0.j, 7.26973058e-02+0.j, 8.05336648e-02+0.j,
       8.86639808e-02+0.j, 9.71104490e-02+0.j, 1.05929049e-01+0.j,
       1.15201992e-01+0.j, 1.25034387e-01+0.j, 1.35548019e-01+0.j,
       1.46708862e-01+0.j, 1.58789360e-01+0.j, 1.71890274e-01+0.j,
       1.86077147e-01+0.j, 2.01354464e-01+0.j, 2.17641330e-01+0.j,
       2.34763041e-01+0.j, 2.52419445e-01+0.j, 2.70189085e-01+0.j,
       2.87556368e-01+0.j, 3.03603172e-01+0.j, 3.18001467e-01+0.j,
       3.30257580e-01+0.j, 3.40049458e-01+0.j, 3.47252391e-01+0.j,
       3.51975522e-01+0.j, 3.54505378e-01+0.j, 3.55257851e-01+0.j,
       3.54716123e-01+0.j, 3.53365422e-01+0.j, 3.51675254e-01+0.j,
       3.50045850e-01+0.j, 3.48797831e-01+0.j, 3.48184883e-01+0.j,
       3.48391680e-01+0.j, 3.49565601e-01+0.j, 3.51800319e-01+0.j,
       3.55164215e-01+0.j, 3.59686568e-01+0.j, 3.65387767e-01+0.j,
       3.72322444e-01+0.j, 3.80372009e-01+0.j, 3.89478279e-01+0.j,
       3.99548537e-01+0.j, 4.10457578e-01+0.j, 4.22052532e-01+0.j,
       4.34129522e-01+0.j, 4.46466189e-01+0.j, 4.58790270e-01+0.j,
       4.70804551e-01+0.j, 4.82259280e-01+0.j, 4.92925964e-01+0.j,
       5.02631509e-01+0.j, 5.11112654e-01+0.j, 5.18143272e-01+0.j,
       5.23551679e-01+0.j, 5.27229271e-01+0.j, 5.29136013e-01+0.j,
       5.29301056e-01+0.j, 5.27817124e-01+0.j, 5.24987961e-01+0.j,
       5.20853283e-01+0.j, 5.15622018e-01+0.j, 5.09514219e-01+0.j,
       5.02750529e-01+0.j, 4.95542116e-01+0.j, 4.88082825e-01+0.j,
       4.80546394e-01+0.j, 4.73084363e-01+0.j, 4.65823128e-01+0.j,
       4.59029682e-01+0.j, 4.52616899e-01+0.j, 4.46650792e-01+0.j,
       4.41178803e-01+0.j, 4.36237777e-01+0.j, 4.31850522e-01+0.j,
       4.28034180e-01+0.j, 4.24796382e-01+0.j, 4.22139267e-01+0.j])
a4=1-(R6+T6)
a5=1-(R7+T7)
Wavelength = np.arange(300, 420, 1)
name="Spectre1"
file=fct.Openfile(name)
s=list(file)
ss=np.array(s)
g=a4*ss
h=a5*ss


plt.figure("Irradiance solaire")
plt.grid()
plt.xlabel("Longueur d'onde (nm)") ; plt.ylabel("Irradiance")
plt.plot(Wavelength,ss,label="Spectre solaire")
plt.plot(Wavelength,g,label="Subs/TiO2/Au (390-10)Verre")
plt.plot(Wavelength,h,label="Subs/Au/TiO2 (10-390)Verre")

plt.legend() 


area5 = trapz(g, dx=1)
print("Aire sous la courbe Subs/TiO2/Au (390-10)Verre =", area5)

area6 = trapz(h, dx=1)
print("Aire sous la courbe Subs/Au/TiO2 (10-390)Verre =", area6)



