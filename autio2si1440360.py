import numpy as np
import matplotlib.pyplot as plt
Wavelength = np.arange(300, 420, 1)
from scipy.integrate import simps
from numpy import trapz
import numpy as np
import function as fct

R14=np.array([0.28801254, 0.28759654, 0.28709182, 0.28650017, 0.28582344,
       0.28506402, 0.28422435, 0.28330723, 0.28231571, 0.28125272,
       0.28012149, 0.27894907, 0.27771533, 0.27642334, 0.27507602,
       0.27367576, 0.27222526, 0.27072698, 0.26918424, 0.2676006 ,
       0.26598231, 0.26436316, 0.26272951, 0.26109746, 0.25948649,
       0.25791947, 0.25641996, 0.25500916, 0.25370063, 0.25249633,
       0.25138025, 0.25034991, 0.24931227, 0.24818527, 0.24687111,
       0.24526401, 0.24326425, 0.24079128, 0.23779906, 0.23429155,
       0.23033019, 0.22601339, 0.2215548 , 0.21721661, 0.21330814,
       0.21015594, 0.20807292, 0.20731164, 0.20803803, 0.21029928,
       0.21400215, 0.2189983 , 0.22484525, 0.23113505, 0.23736765,
       0.24310067, 0.24785602, 0.25126057, 0.25296748, 0.25268795,
       0.25028086, 0.24542036, 0.23840565, 0.22937426, 0.21860086,
       0.20652942, 0.19364042, 0.1805777 , 0.16805614, 0.15661139,
       0.14702594, 0.13968031, 0.13496303, 0.13294203, 0.13362291,
       0.1367944 , 0.14211123, 0.14911599, 0.15743633, 0.16646228,
       0.17593099, 0.18531526, 0.19440667, 0.20295447, 0.21073621,
       0.21764246, 0.22355702, 0.22841458, 0.23218479, 0.23485583,
       0.23642509, 0.23702286, 0.23660924, 0.23527117, 0.23304748,
       0.22998876, 0.22619894, 0.22170137, 0.2166068 , 0.21098117,
       0.20488721, 0.19846728, 0.19173657, 0.18480224, 0.17775695,
       0.17067746, 0.16369297, 0.15686336, 0.15026484, 0.14395946,
       0.13805178, 0.13260662, 0.12767894, 0.12333102, 0.11960656,
       0.1165346 , 0.11413731, 0.11241475, 0.11137684, 0.11101238])
T14=np.array([0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j])


a5=1-(R14+T14)
Wavelength = np.arange(300,420, 1)
name="Spectre1"
first="Spectre3"
file=fct.Openfile(name)
file1=fct.Openfile(first)
s=list(file)
t=list(file1)
ss=np.array(s)
tt=np.array(t)

g=a5*tt

area6 = trapz(g, dx=1)
print("Aire sous la courbe A*LampeUV=", area6)


fig, ax1 = plt.subplots()
plt.grid()
color = 'tab:red'
ax1.set_xlabel('Wavelength en nm')
ax1.set_ylabel('absorbance A en %', color=color)
ax1.plot(Wavelength,a5,label="Absorbance Au/TiO2 14.0x(2.85;24.71)", color=color)
ax1.tick_params(axis='y', labelcolor=color)
plt.legend() 
ax2 = ax1.twinx() 

color = 'tab:blue'
ax2.set_ylabel('Flux de photons en W/(m2.nm-1)', color=color) 
ax2.plot(Wavelength,g,label="A*LampeUV", color=color)
ax2.tick_params(axis='y', labelcolor=color)

plt.legend() 
fig.tight_layout()
plt.show()