import numpy as np
import matplotlib.pyplot as plt
import function as fct
from include import *
from scipy.integrate import simps
from numpy import trapz

R8=np.array([0.34379744, 0.34403414, 0.3442035 , 0.34430198, 0.3443252 ,
       0.34426847, 0.3441266 , 0.34389414, 0.34356546, 0.3431348 ,
       0.34259686, 0.34190709, 0.34110161, 0.34017727, 0.3391323 ,
       0.33796625, 0.33668116, 0.33528174, 0.33377665, 0.33217852,
       0.33050623, 0.32875448, 0.32698311, 0.32522596, 0.3235164 ,
       0.32188244, 0.32033915, 0.3188805 , 0.31747168, 0.31604487,
       0.31449876, 0.31269025, 0.31048795, 0.30775104, 0.3043665 ,
       0.30027628, 0.29550214, 0.29016755, 0.28450893, 0.27887632,
       0.27371083, 0.26948545, 0.26673053, 0.26586513, 0.26715267,
       0.27064384, 0.27615052, 0.28325884, 0.29137822, 0.299811  ,
       0.30782762, 0.31477347, 0.31993255, 0.32279456, 0.32297672,
       0.32022744, 0.31442511, 0.30558755, 0.29387334, 0.2795984 ,
       0.26324763, 0.24553728, 0.22730034, 0.20951212, 0.19322432,
       0.17948439, 0.16921977, 0.16313448, 0.16161902, 0.16470624,
       0.17208116, 0.18308834, 0.19695013, 0.21278507, 0.22971189,
       0.24692239, 0.26371726, 0.27952881, 0.29391906, 0.30656748,
       0.31725517, 0.32581747, 0.33222331, 0.33645272, 0.33852154,
       0.33847438, 0.33638277, 0.33233509, 0.32644096, 0.3188287 ,
       0.30964329, 0.29910922, 0.28737621, 0.27465342, 0.26114774,
       0.24708744, 0.23271527, 0.21828789, 0.20407267, 0.19033894,
       0.17735442, 0.16535511, 0.15457744, 0.14522602, 0.13746626,
       0.13142134, 0.127167  , 0.12472978, 0.12408878, 0.12517812,
       0.12789254, 0.13205274, 0.13754204, 0.14418162, 0.15178544,
       0.16016186, 0.16912659, 0.17849813, 0.18811015, 0.19781052])
T8=np.array([4.65514575e-07+0.j, 6.77164166e-07+0.j, 9.87643450e-07+0.j,
       1.44299858e-06+0.j, 2.11006909e-06+0.j, 3.08529234e-06+0.j,
       4.50721396e-06+0.j, 6.57303680e-06+0.j, 9.56125016e-06+0.j,
       1.38621196e-05+0.j, 2.00171776e-05+0.j, 2.88048902e-05+0.j,
       4.12307638e-05+0.j, 5.86686812e-05+0.j, 8.29456568e-05+0.j,
       1.16461752e-04+0.j, 1.62318599e-04+0.j, 2.24492326e-04+0.j,
       3.07979037e-04+0.j, 4.19003352e-04+0.j, 5.65151196e-04+0.j,
       7.56485229e-04+0.j, 1.00352260e-03+0.j, 1.31912295e-03+0.j,
       1.71804941e-03+0.j, 2.21691666e-03+0.j, 2.83425362e-03+0.j,
       3.59018141e-03+0.j, 4.50663992e-03+0.j, 5.60703939e-03+0.j,
       6.91638671e-03+0.j, 8.47148268e-03+0.j, 1.02950597e-02+0.j,
       1.24182863e-02+0.j, 1.48733253e-02+0.j, 1.76935750e-02+0.j,
       2.09100884e-02+0.j, 2.45506771e-02+0.j, 2.86355264e-02+0.j,
       3.31713763e-02+0.j, 3.81506777e-02+0.j, 4.36040715e-02+0.j,
       4.94394369e-02+0.j, 5.55912848e-02+0.j, 6.19838911e-02+0.j,
       6.85402292e-02+0.j, 7.51937476e-02+0.j, 8.19026731e-02+0.j,
       8.86538016e-02+0.j, 9.54675536e-02+0.j, 1.02397944e-01+0.j,
       1.09365891e-01+0.j, 1.16618114e-01+0.j, 1.24265280e-01+0.j,
       1.32421761e-01+0.j, 1.41194351e-01+0.j, 1.50671671e-01+0.j,
       1.60924022e-01+0.j, 1.71982069e-01+0.j, 1.83830038e-01+0.j,
       1.96399397e-01+0.j, 2.09136222e-01+0.j, 2.22162032e-01+0.j,
       2.35179027e-01+0.j, 2.47835875e-01+0.j, 2.59738932e-01+0.j,
       2.70512233e-01+0.j, 2.79822343e-01+0.j, 2.87426374e-01+0.j,
       2.93201238e-01+0.j, 2.97149832e-01+0.j, 2.99334529e-01+0.j,
       3.00050052e-01+0.j, 2.99575718e-01+0.j, 2.98217646e-01+0.j,
       2.96270092e-01+0.j, 2.94017320e-01+0.j, 2.91695345e-01+0.j,
       2.89507502e-01+0.j, 2.87605143e-01+0.j, 2.86117801e-01+0.j,
       2.85156599e-01+0.j, 2.84745187e-01+0.j, 2.84922579e-01+0.j,
       2.85707003e-01+0.j, 2.87098068e-01+0.j, 2.89089382e-01+0.j,
       2.91653463e-01+0.j, 2.94763119e-01+0.j, 2.98374149e-01+0.j,
       3.02433662e-01+0.j, 3.07006965e-01+0.j, 3.11985009e-01+0.j,
       3.17357662e-01+0.j, 3.23043998e-01+0.j, 3.28954658e-01+0.j,
       3.34994273e-01+0.j, 3.41061776e-01+0.j, 3.47051678e-01+0.j,
       3.52857393e-01+0.j, 3.58372818e-01+0.j, 3.63677402e-01+0.j,
       3.68507939e-01+0.j, 3.72781570e-01+0.j, 3.76430427e-01+0.j,
       3.79403181e-01+0.j, 3.81667133e-01+0.j, 3.83208952e-01+0.j,
       3.84034262e-01+0.j, 3.84166804e-01+0.j, 3.83646035e-01+0.j,
       3.82723434e-01+0.j, 3.81259303e-01+0.j, 3.79322938e-01+0.j,
       3.76986733e-01+0.j, 3.74326239e-01+0.j, 3.71414163e-01+0.j,
       3.68323161e-01+0.j, 3.65119925e-01+0.j, 3.61865862e-01+0.j])


a5=1-(R8+T8)
Wavelength = np.arange(300,420, 1)
name="Spectre1"
first="Spectre3"
file=fct.Openfile(name)
file1=fct.Openfile(first)
s=list(file)
t=list(file1)
ss=np.array(s)
tt=np.array(t)

g=a5*ss


plt.figure("Irradiance solaire")
plt.grid()
plt.xlabel("Longueur d'onde (nm)") ; plt.ylabel("Irradiance")
plt.plot(Wavelength,a5,label="Absorbance")
plt.plot(Wavelength,g,label="TiO2/Au 10.0x(38;2)) Soleil")
plt.legend() 


area6 = trapz(g, dx=1)
print("Aire sous la courbe TiO2/Au 10.0x(38;2) Soleil =", area6)


