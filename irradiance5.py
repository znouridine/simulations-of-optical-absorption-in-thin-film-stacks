import numpy as np
import matplotlib.pyplot as plt
import function as fct
from include import *
from scipy.integrate import simps
from numpy import trapz


R7=np.array([0.42147198, 0.42145537, 0.42139234, 0.42128327, 0.42112854,
       0.4209288 , 0.42068482, 0.42039758, 0.42006825, 0.41969814,
       0.41928897, 0.41869339, 0.41806258, 0.41739965, 0.41670839,
       0.415993  , 0.41525821, 0.41450831, 0.41374633, 0.41297216,
       0.41218076, 0.41123205, 0.41022933, 0.40913916, 0.40791749,
       0.40651331, 0.40487605, 0.40296672, 0.400773  , 0.39832502,
       0.3957134 , 0.39300283, 0.39051909, 0.38855227, 0.38742035,
       0.38742871, 0.38881164, 0.39168107, 0.39598132, 0.40145746,
       0.40766592, 0.41403453, 0.4197369 , 0.423933  , 0.42576916,
       0.42445462, 0.41932888, 0.40995786, 0.39620354, 0.3782977 ,
       0.35698967, 0.33372334, 0.31008357, 0.28811895, 0.27021719,
       0.25845928, 0.25455669, 0.25945813, 0.27313462, 0.29494695,
       0.32324088, 0.35631619, 0.39192237, 0.42805303, 0.46297946,
       0.49512839, 0.52310135, 0.54617548, 0.56294946, 0.57353358,
       0.57660126, 0.57248439, 0.56054853, 0.54105489, 0.51439383,
       0.48127813, 0.4428686 , 0.40097764, 0.357024  , 0.31383946,
       0.27283159, 0.23638772, 0.20590132, 0.18249486, 0.16677286,
       0.15879164, 0.15806343, 0.16401023, 0.17560668, 0.19183608,
       0.21173137, 0.23400392, 0.25807393, 0.28310594, 0.30851166,
       0.3337699 , 0.35839776, 0.38211361, 0.40457447, 0.42558603,
       0.44499   , 0.46272954, 0.4785802 , 0.49244836, 0.50426839,
       0.51395734, 0.52148223, 0.52681802, 0.52996018, 0.5309739 ,
       0.52974864, 0.52630484, 0.52071191, 0.51298545, 0.50332177,
       0.49176063, 0.47837684, 0.46341485, 0.44695003, 0.42916465])
T7=np.array([0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j])
R6=np.array([0.33232966, 0.33214459, 0.33188758, 0.33155745, 0.33115256,
       0.33067121, 0.33011135, 0.32947094, 0.3287479 , 0.32794016,
       0.32704614, 0.32602526, 0.32491777, 0.32372491, 0.32244937,
       0.32109521, 0.31966852, 0.3181764 , 0.31662688, 0.31502669,
       0.31338054, 0.31165507, 0.30987406, 0.30801787, 0.3060545 ,
       0.30394071, 0.30162595, 0.29906045, 0.29620715, 0.29305731,
       0.28964904, 0.28604807, 0.28246145, 0.27913692, 0.27637956,
       0.27452564, 0.27388712, 0.27469532, 0.27703682, 0.28080372,
       0.28568158, 0.29116411, 0.29657822, 0.30116849, 0.30416259,
       0.30484338, 0.30259156, 0.29694754, 0.2876158 , 0.27451214,
       0.25783733, 0.23798501, 0.21602661, 0.19327727, 0.17167558,
       0.15337372, 0.14085183, 0.13624596, 0.14102999, 0.15569595,
       0.17916336, 0.2095186 , 0.24382017, 0.27915827, 0.31302356,
       0.3433894 , 0.36881374, 0.38879415, 0.4024622 , 0.41044706,
       0.41210673, 0.40828403, 0.39875835, 0.38402763, 0.36435838,
       0.3401248 , 0.31187201, 0.28034327, 0.24611049, 0.21068815,
       0.17480342, 0.14027475, 0.10842417, 0.080851  , 0.059116  ,
       0.04435096, 0.03741708, 0.03866965, 0.04788537, 0.06438204,
       0.08715113, 0.11467177, 0.14578278, 0.17912366, 0.2135622 ,
       0.24810299, 0.28190803, 0.31440952, 0.34511062, 0.37373234,
       0.40009632, 0.42419547, 0.44587066, 0.46513692, 0.48204437,
       0.49662301, 0.5089653 , 0.51914691, 0.52725958, 0.53345185,
       0.53768157, 0.54001731, 0.5405546 , 0.53931088, 0.53645255,
       0.53197608, 0.52589205, 0.51834826, 0.50930883, 0.49882511])
T6=np.array([0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j])

a4=1-(R7+T7)
a5=1-(R6+T6)
Wavelength = np.arange(300, 420, 1)
name="Spectre1"
file=fct.Openfile(name)
s=list(file)
ss=np.array(s)
g=a4*ss
h=a5*ss


plt.figure("Irradiance solaire")
plt.grid()
plt.xlabel("Longueur d'onde (nm)") ; plt.ylabel("Irradiance")
plt.plot(Wavelength,ss,label="Spectre solaire")
plt.plot(Wavelength,g,label="Au/tiO2 (10/390)")
plt.plot(Wavelength,h,label="Au/tiO2 3.0x(3.33/130)")
plt.legend() 

area4 = trapz(ss, dx=1)
print("Aire sous la courbe spectre solaire =", area4)

area5 = trapz(g, dx=1)
print("Aire sous la courbe Au/TiO2 (10/390) =", area5)

area6 = trapz(h, dx=1)
print("Aire sous la courbe Au/TiO2 5x(2/78) =", area6)



