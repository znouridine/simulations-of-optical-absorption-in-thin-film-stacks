import numpy as np
import matplotlib.pyplot as plt
import function as fct
from include import *
from scipy.integrate import simps
from numpy import trapz


R6=np.array([0.41400067, 0.41393917, 0.41382874, 0.41366995, 0.41346334,
       0.41320973, 0.41290998, 0.41256507, 0.41217602, 0.4117437 ,
       0.41126895, 0.4106104 , 0.40990971, 0.40916687, 0.40838166,
       0.40755366, 0.40668309, 0.40577137, 0.40482266, 0.40384486,
       0.4028522 , 0.40174313, 0.40066843, 0.3996645 , 0.39877098,
       0.39802469, 0.39745019, 0.39704829, 0.39678414, 0.39657754,
       0.39629797, 0.39567761, 0.39458819, 0.3928028 , 0.3901139 ,
       0.38637321, 0.38153209, 0.3756807 , 0.36907451, 0.36214538,
       0.35548094, 0.34975379, 0.34574073, 0.34411405, 0.34537106,
       0.34974836, 0.3571719 , 0.36725412, 0.37933683, 0.39256283,
       0.40596105, 0.41884967, 0.42989407, 0.43820579, 0.44302274,
       0.4437327 , 0.43989655, 0.43128412, 0.41789919, 0.40002368,
       0.37825159, 0.35374671, 0.32754638, 0.30115662, 0.2762307 ,
       0.25442305, 0.23720044, 0.22568511, 0.22053473, 0.22190005,
       0.2294572 , 0.24241673, 0.25986568, 0.28072622, 0.30390046,
       0.32835514, 0.35315884, 0.37751236, 0.40074783, 0.42232112,
       0.44179559, 0.45875753, 0.47302296, 0.4843932 , 0.49271787,
       0.49789513, 0.49986982, 0.49862522, 0.49419528, 0.48666012,
       0.4761507 , 0.46281908, 0.44699669, 0.42900497, 0.40918168,
       0.38792006, 0.36565543, 0.3428588 , 0.32002626, 0.29765881,
       0.27625077, 0.2562005 , 0.23797686, 0.22193546, 0.20835498,
       0.19743483, 0.18929063, 0.18395584, 0.18138928, 0.18148294,
       0.1840733 , 0.18887705, 0.19573945, 0.20440441, 0.21461   ,
       0.22608984, 0.23859005, 0.25186098, 0.26567368, 0.27981743])
R7=np.array([0.29871959, 0.29848949, 0.2981904 , 0.29782421, 0.29739273,
       0.29689813, 0.29634244, 0.29572794, 0.29505692, 0.2943315 ,
       0.29355397, 0.29272659, 0.2918516 , 0.29093149, 0.28996911,
       0.28896768, 0.2879318 , 0.28686729, 0.28578225, 0.28468635,
       0.28359195, 0.28251165, 0.28145815, 0.28044051, 0.27945977,
       0.27850504, 0.27754889, 0.27654477, 0.2754267 , 0.27411398,
       0.27251979, 0.27057049, 0.26820357, 0.26540558, 0.26222438,
       0.25878347, 0.25528785, 0.25201778, 0.2493073 , 0.24750845,
       0.24693891, 0.24778912, 0.25021968, 0.25416623, 0.25937919,
       0.26544307, 0.27181849, 0.27790034, 0.28307576, 0.28677513,
       0.28851069, 0.28792863, 0.28465678, 0.27855414, 0.26962754,
       0.25805059, 0.24417553, 0.22855615, 0.21195018, 0.19531191,
       0.17974474, 0.16644276, 0.15662118, 0.15119954, 0.15074446,
       0.15538625, 0.1647992 , 0.17827136, 0.19482695, 0.21336509,
       0.23279689, 0.25205692, 0.2703627 , 0.28708331, 0.3017582 ,
       0.31407419, 0.3238378 , 0.33094358, 0.33535555, 0.33708156,
       0.33617258, 0.33261629, 0.3266141 , 0.31829351, 0.30781153,
       0.29535083, 0.28113812, 0.26543766, 0.24855861, 0.23086296,
       0.21275212, 0.19477649, 0.1773025 , 0.16077883, 0.14563691,
       0.13228119, 0.12106136, 0.11225592, 0.10605692, 0.10255842,
       0.10175528, 0.10351841, 0.10766835, 0.11395862, 0.12209682,
       0.13176263, 0.14262603, 0.15436394, 0.16666991, 0.17926223,
       0.19189303, 0.20427013, 0.21629555, 0.22781958, 0.23872641,
       0.24892139, 0.25833778, 0.2669219 , 0.2746403 , 0.28147242])
T6=np.array([6.23863480e-07+0.j, 9.10299453e-07+0.j, 1.33178753e-06+0.j,
       1.95183743e-06+0.j, 2.86288211e-06+0.j, 4.19860826e-06+0.j,
       6.15148725e-06+0.j, 8.99599431e-06+0.j, 1.31203505e-05+0.j,
       1.90692705e-05+0.j, 2.75992975e-05+0.j, 3.97779986e-05+0.j,
       5.70146992e-05+0.j, 8.12203642e-05+0.j, 1.14934272e-04+0.j,
       1.61488977e-04+0.j, 2.25186445e-04+0.j, 3.11535353e-04+0.j,
       4.27449498e-04+0.j, 5.81534296e-04+0.j, 7.84268782e-04+0.j,
       1.04902872e-03+0.j, 1.39052060e-03+0.j, 1.82638403e-03+0.j,
       2.37689541e-03+0.j, 3.06493113e-03+0.j, 3.91610124e-03+0.j,
       4.95835206e-03+0.j, 6.22231351e-03+0.j, 7.74080669e-03+0.j,
       9.54893887e-03+0.j, 1.16911438e-02+0.j, 1.42027247e-02+0.j,
       1.71252664e-02+0.j, 2.05003936e-02+0.j, 2.43696863e-02+0.j,
       2.87694922e-02+0.j, 3.37298126e-02+0.j, 3.92689579e-02+0.j,
       4.53870082e-02+0.j, 5.20669344e-02+0.j, 5.93022565e-02+0.j,
       6.70071424e-02+0.j, 7.51070622e-02+0.j, 8.35237297e-02+0.j,
       9.21851675e-02+0.j, 1.01037483e-01+0.j, 1.10058872e-01+0.j,
       1.19259863e-01+0.j, 1.28686576e-01+0.j, 1.38419003e-01+0.j,
       1.48400536e-01+0.j, 1.58903067e-01+0.j, 1.70053550e-01+0.j,
       1.81975183e-01+0.j, 1.94770555e-01+0.j, 2.08505852e-01+0.j,
       2.23208735e-01+0.j, 2.38837706e-01+0.j, 2.55273625e-01+0.j,
       2.72316000e-01+0.j, 2.89357722e-01+0.j, 3.06242054e-01+0.j,
       3.22504520e-01+0.j, 3.37662947e-01+0.j, 3.51248252e-01+0.j,
       3.62889887e-01+0.j, 3.72337286e-01+0.j, 3.79497650e-01+0.j,
       3.84440532e-01+0.j, 3.87371433e-01+0.j, 3.88603664e-01+0.j,
       3.88530987e-01+0.j, 3.87541060e-01+0.j, 3.86007385e-01+0.j,
       3.84255844e-01+0.j, 3.82580841e-01+0.j, 3.81209892e-01+0.j,
       3.80330793e-01+0.j, 3.80072460e-01+0.j, 3.80543829e-01+0.j,
       3.81865476e-01+0.j, 3.84000156e-01+0.j, 3.86962449e-01+0.j,
       3.90742049e-01+0.j, 3.95306916e-01+0.j, 4.00616154e-01+0.j,
       4.06598711e-01+0.j, 4.13182746e-01+0.j, 4.20268427e-01+0.j,
       4.27741919e-01+0.j, 4.35557736e-01+0.j, 4.43617182e-01+0.j,
       4.51872137e-01+0.j, 4.60172609e-01+0.j, 4.68360996e-01+0.j,
       4.76278939e-01+0.j, 4.83770438e-01+0.j, 4.90686481e-01+0.j,
       4.96891921e-01+0.j, 5.02269190e-01+0.j, 5.06865951e-01+0.j,
       5.10487282e-01+0.j, 5.13093691e-01+0.j, 5.14675552e-01+0.j,
       5.15251389e-01+0.j, 5.14865812e-01+0.j, 5.13585669e-01+0.j,
       5.11495892e-01+0.j, 5.08695094e-01+0.j, 5.05289611e-01+0.j,
       5.01554767e-01+0.j, 4.97430857e-01+0.j, 4.93023905e-01+0.j,
       4.88432156e-01+0.j, 4.83748576e-01+0.j, 4.79054651e-01+0.j,
       4.74426048e-01+0.j, 4.69926772e-01+0.j, 4.65611758e-01+0.j])
T7=np.array([6.38756422e-07+0.j, 9.32293606e-07+0.j, 1.36437384e-06+0.j,
       2.00022570e-06+0.j, 2.93482539e-06+0.j, 4.30560022e-06+0.j,
       6.31049946e-06+0.j, 9.23194793e-06+0.j, 1.34696118e-05+0.j,
       1.95845545e-05+0.j, 2.83564405e-05+0.j, 4.08834141e-05+0.j,
       5.86198746e-05+0.j, 8.35371091e-05+0.j, 1.18255784e-04+0.j,
       1.66216829e-04+0.j, 2.31864019e-04+0.j, 3.20889739e-04+0.j,
       4.40440788e-04+0.j, 5.99415226e-04+0.j, 8.08651871e-04+0.j,
       1.08192679e-03+0.j, 1.43449142e-03+0.j, 1.88461573e-03+0.j,
       2.45334123e-03+0.j, 3.16448217e-03+0.j, 4.04482087e-03+0.j,
       5.12376837e-03+0.j, 6.43379493e-03+0.j, 8.00996250e-03+0.j,
       9.88999283e-03+0.j, 1.21207415e-02+0.j, 1.47404649e-02+0.j,
       1.77927268e-02+0.j, 2.13196075e-02+0.j, 2.53607254e-02+0.j,
       2.99469855e-02+0.j, 3.50989509e-02+0.j, 4.08215676e-02+0.j,
       4.70988661e-02+0.j, 5.38980746e-02+0.j, 6.12001593e-02+0.j,
       6.89168095e-02+0.j, 7.69837106e-02+0.j, 8.53482765e-02+0.j,
       9.39790006e-02+0.j, 1.02873714e-01+0.j, 1.12068031e-01+0.j,
       1.21629540e-01+0.j, 1.31655806e-01+0.j, 1.42268771e-01+0.j,
       1.53449911e-01+0.j, 1.65481830e-01+0.j, 1.78491556e-01+0.j,
       1.92582202e-01+0.j, 2.07809183e-01+0.j, 2.24157071e-01+0.j,
       2.41530591e-01+0.j, 2.59717782e-01+0.j, 2.78383543e-01+0.j,
       2.97080187e-01+0.j, 3.14942943e-01+0.j, 3.31589540e-01+0.j,
       3.46424795e-01+0.j, 3.58965252e-01+0.j, 3.68888116e-01+0.j,
       3.76105195e-01+0.j, 3.80738296e-01+0.j, 3.83094471e-01+0.j,
       3.83610328e-01+0.j, 3.82779277e-01+0.j, 3.81110497e-01+0.j,
       3.79085635e-01+0.j, 3.77103393e-01+0.j, 3.75492571e-01+0.j,
       3.74502849e-01+0.j, 3.74337036e-01+0.j, 3.75131627e-01+0.j,
       3.76989067e-01+0.j, 3.79964115e-01+0.j, 3.84099336e-01+0.j,
       3.89465133e-01+0.j, 3.95964100e-01+0.j, 4.03558680e-01+0.j,
       4.12181093e-01+0.j, 4.21735740e-01+0.j, 4.32105982e-01+0.j,
       4.43130015e-01+0.j, 4.54632348e-01+0.j, 4.66390655e-01+0.j,
       4.78156567e-01+0.j, 4.89715947e-01+0.j, 5.00875429e-01+0.j,
       5.11476581e-01+0.j, 5.21254243e-01+0.j, 5.29958656e-01+0.j,
       5.37372510e-01+0.j, 5.43321212e-01+0.j, 5.47682441e-01+0.j,
       5.50393524e-01+0.j, 5.51452475e-01+0.j, 5.51062532e-01+0.j,
       5.49198934e-01+0.j, 5.46008089e-01+0.j, 5.41665521e-01+0.j,
       5.36364933e-01+0.j, 5.30307016e-01+0.j, 5.23689189e-01+0.j,
       5.16699552e-01+0.j, 5.09511790e-01+0.j, 5.02279397e-01+0.j,
       4.95298748e-01+0.j, 4.88513421e-01+0.j, 4.82017907e-01+0.j,
       4.75886021e-01+0.j, 4.70178740e-01+0.j, 4.64939857e-01+0.j,
       4.60205217e-01+0.j, 4.55998109e-01+0.j, 4.52333811e-01+0.j])
a4=1-(R4+T4)
a5=1-(R5+T5)
Wavelength = np.arange(300, 420, 1)
name="Spectre1"
file=fct.Openfile(name)
s=list(file)
ss=np.array(s)
g=a4*ss
h=a5*ss


plt.figure("Irradiance solaire")
plt.grid()
plt.xlabel("Longueur d'onde (nm)") ; plt.ylabel("Irradiance")
plt.plot(Wavelength,ss,label="Spectre solaire")
plt.plot(Wavelength,g,label="Au/tiO2 (10/390)")
plt.plot(Wavelength,h,label="Au/tiO2 3.0x(3.33/130)")
plt.legend() 

area4 = trapz(ss, dx=1)
print("Aire sous la courbe spectre solaire =", area4)



area5 = trapz(g, dx=1)
print("Aire sous la courbe Au/TiO2 (10/390) =", area5)

area6 = trapz(h, dx=1)
print("Aire sous la courbe Au/TiO2 3.0x(3.33/130) =", area6)



