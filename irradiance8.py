import numpy as np
import matplotlib.pyplot as plt
import function as fct
from include import *
from scipy.integrate import simps
from numpy import trapz


R5=np.array([0.42147198, 0.42145537, 0.42139234, 0.42128327, 0.42112854,
       0.4209288 , 0.42068482, 0.42039758, 0.42006825, 0.41969814,
       0.41928897, 0.41869339, 0.41806258, 0.41739965, 0.41670839,
       0.415993  , 0.41525821, 0.41450831, 0.41374633, 0.41297216,
       0.41218076, 0.41123205, 0.41022933, 0.40913916, 0.40791749,
       0.40651331, 0.40487605, 0.40296672, 0.400773  , 0.39832502,
       0.3957134 , 0.39300283, 0.39051909, 0.38855227, 0.38742035,
       0.38742871, 0.38881164, 0.39168107, 0.39598132, 0.40145746,
       0.40766592, 0.41403453, 0.4197369 , 0.423933  , 0.42576916,
       0.42445462, 0.41932888, 0.40995786, 0.39620354, 0.3782977 ,
       0.35698967, 0.33372334, 0.31008357, 0.28811895, 0.27021719,
       0.25845928, 0.25455669, 0.25945813, 0.27313462, 0.29494695,
       0.32324088, 0.35631619, 0.39192237, 0.42805303, 0.46297946,
       0.49512839, 0.52310135, 0.54617548, 0.56294946, 0.57353358,
       0.57660126, 0.57248439, 0.56054853, 0.54105489, 0.51439383,
       0.48127813, 0.4428686 , 0.40097764, 0.357024  , 0.31383946,
       0.27283159, 0.23638772, 0.20590132, 0.18249486, 0.16677286,
       0.15879164, 0.15806343, 0.16401023, 0.17560668, 0.19183608,
       0.21173137, 0.23400392, 0.25807393, 0.28310594, 0.30851166,
       0.3337699 , 0.35839776, 0.38211361, 0.40457447, 0.42558603,
       0.44499   , 0.46272954, 0.4785802 , 0.49244836, 0.50426839,
       0.51395734, 0.52148223, 0.52681802, 0.52996018, 0.5309739 ,
       0.52974864, 0.52630484, 0.52071191, 0.51298545, 0.50332177,
       0.49176063, 0.47837684, 0.46341485, 0.44695003, 0.42916465])
R6=np.array([0.29871905, 0.2984887 , 0.29818928, 0.2978226 , 0.29739046,
       0.29689496, 0.29633814, 0.29572225, 0.29504971, 0.29432294,
       0.29354481, 0.29271871, 0.29184876, 0.2909404 , 0.29000068,
       0.28903856, 0.28806558, 0.28709503, 0.28614133, 0.28521685,
       0.28432901, 0.28347376, 0.28262914, 0.28174854, 0.28075501,
       0.27954014, 0.27796912, 0.27589383, 0.27317552, 0.26971705,
       0.26550231, 0.26063731, 0.25539157, 0.25022341, 0.24577628,
       0.24284117, 0.24225553, 0.24475922, 0.25081873, 0.26047483,
       0.27327129, 0.28830537, 0.30432596, 0.31992617, 0.33371194,
       0.34442877, 0.35100222, 0.35256724, 0.34839248, 0.33789019,
       0.3205827 , 0.29613917, 0.26455648, 0.22633375, 0.18296608,
       0.13721511, 0.09386411, 0.05926679, 0.0408176 , 0.044543  ,
       0.07257601, 0.12220293, 0.18633815, 0.25661509, 0.32592344,
       0.38942482, 0.44454827, 0.49087727, 0.52809241, 0.55768243,
       0.57967203, 0.59551526, 0.60537522, 0.61003395, 0.60968483,
       0.60448037, 0.59455074, 0.57978905, 0.5599041 , 0.53500694,
       0.50435657, 0.46789471, 0.42533536, 0.37679277, 0.32303072,
       0.26490365, 0.20497124, 0.14602342, 0.09229861, 0.04821744,
       0.01776196, 0.00371221, 0.00666662, 0.02526916, 0.05654522,
       0.09673964, 0.14212217, 0.18946221, 0.23630155, 0.28097445,
       0.32245143, 0.3603188 , 0.39426067, 0.4243415 , 0.45074377,
       0.47366143, 0.49339398, 0.51018506, 0.52429325, 0.53601648,
       0.54544232, 0.55274898, 0.55811479, 0.56162155, 0.56346087,
       0.56366127, 0.5622518 , 0.55935991, 0.5549402 , 0.54901256])
T5=np.array([0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j])
T6=np.array([0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j,
       0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j])
a4=1-(R5+T5)
a5=1-(R6+T6)
Wavelength = np.arange(300, 420, 1)
name="Spectre1"
file=fct.Openfile(name)
s=list(file)
ss=np.array(s)
g=a4*ss
h=a5*ss


plt.figure("Irradiance solaire")
plt.grid()
plt.xlabel("Longueur d'onde (nm)") ; plt.ylabel("Irradiance")
plt.plot(Wavelength,ss,label="Spectre solaire")
plt.plot(Wavelength,g,label="Subs/TiO2/Au (390-10)Si")
plt.plot(Wavelength,h,label="Subs/Au/TiO2 (10-390)Si")
plt.legend() 

area6 = trapz(g, dx=1)
print("Aire sous la courbe Subs/TiO2/Au (390-10)Si =", area6)

area5 = trapz(h, dx=1)
print("Aire sous la courbe Subs/Au/TiO2 (10-390)Si =", area5)


